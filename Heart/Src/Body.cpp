/********************************************************************
	created:	2010/08/22
	created:	22:8:2010   9:23
	filename: 	Body.cpp	
	author:		James
	
	purpose:	
*********************************************************************/

#include "Common.h"
#include "Body.h"

namespace Heart
{
namespace Physics2D
{

	const hFloat			Body::STATIC_MASS = 0.0f;

	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////

	Body::Body()
	{
		hVec2::Set( 0.0f, 0.0f, position_ );
		rotation_ = 0.0f;
		hVec2::Set( 0.0f, 0.0f, velocity_ );
		angularVelocity_ = 0.0f;
		hVec2::Set( 0.0f, 0.0f, force_ );
		torque_ = 0.0f;
		friction_ = 0.2f;

		mass_ = STATIC_MASS;
		invMass_ = 0.0f;


	}

	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////

	Body::~Body()
	{

	}


	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////

	Box::Box()
	{

	}

	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////

	Box::~Box()
	{

	}

	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////
	//////////////////////////////////////////////////////////////////////////

	void Box::Set( const hPoly2< 4 >& boxBody, hFloat mass )
	{
		boxBody_ = boxBody_;

		if ( mass == STATIC_MASS )
		{
			mass_ = STATIC_MASS;
			invMass_ = 0.0f;
		}
		else
		{
			mass_ = mass;
			invMass_ = 1 / mass_;
		}
	}

}
}